# ROS 2 Workspace

Personal workspace to refresh and deepen my ROS 2 skills while following **_Mastering ROS 2 for Robotics Programming_**.  
I use this repo to rebuild foundations, collect examples, and practice advanced features.

---

## 📚 Purpose / Goals

- Revisit core ROS 2 concepts: nodes, topics, services, actions
- Practice packaging, build systems, parameters, and launch files
- Explore lifecycle nodes, composition, and integrations (e.g., ROS 2 + simulation)

---

## ✅ Tested Setup

- **OS:** Ubuntu 22.04
- **ROS 2:** Humble (desktop-full)
- **Build tools:** `colcon`, `vcstool`, `git`
- **Python:** 3.10 (system)
> Other distros may work, but commands below assume Ubuntu 22.04 + ROS 2 Humble.

---

## 🗂 Workspace Layout

Only `src/` is version-controlled. `build/`, `install/`, and `log/` are generated by `colcon`.

```
ros2_ws/
├─ src/                # your packages live here (version-controlled)
├─ build/              # colcon build artifacts (ignored)
├─ install/            # install space (ignored)
└─ log/                # logs (ignored)
```

---

## ⚙️ Prerequisites

```bash
# ROS 2 Humble (desktop) & common tools
sudo apt update
sudo apt install -y ros-humble-desktop python3-colcon-common-extensions python3-vcstool git build-essential
```

---

## 🚀 Quick Start

```bash
# Clone this repository as your workspace
git clone <THIS-REPO-URL> ros2_ws
cd ros2_ws

# (Optional) Pull dependencies via vcs if you use a .repos file
# vcs import src < dependencies.repos

# Source ROS 2, build, source overlay
source /opt/ros/humble/setup.bash
colcon build --symlink-install
source install/setup.bash

# Example: run your package/node (adjust names as you add packages)
# ros2 run <package_name> <executable_name>
```

---

## 🧱 Common Tasks

### Create a new package
```bash
cd src
ros2 pkg create my_talker --build-type ament_python --dependencies rclpy
cd ..
colcon build --symlink-install
source install/setup.bash
```

### Run nodes
```bash
# In one terminal
source install/setup.bash
ros2 run my_talker talker

# In another terminal (same overlay)
source install/setup.bash
ros2 topic echo /chatter
```

### Use launch files
```bash
ros2 launch <package_name> <file.launch.py>
```

### Tests & Linters
```bash
# Run tests
colcon test && colcon test-result --verbose

# Optional: code style/lint (example for Python packages)
sudo apt install -y python3-flake8 python3-pytest
flake8 src/<package>/ --max-line-length 120
pytest -q
```

---

## 📖 Book Progress (Checklist)

- [ ] Ch. 1–2: Workspace, packages, build
- [ ] Ch. 3: Topics (publisher/subscriber)
- [ ] Ch. 4: Services & Actions
- [ ] Ch. 5: Parameters & Lifecycle nodes
- [ ] Ch. 6: Launch files & composition
- [ ] Ch. 7+: Navigation/Perception (as applicable)

_Add links here to your packages that correspond to each chapter/exercise._

---

## 🧪 Tips & Troubleshooting

- Always run `source /opt/ros/humble/setup.bash` **before** building.
- After a build, run `source install/setup.bash` to use the overlay.
- If a build fails, try a clean rebuild:
  ```bash
  rm -rf build/ install/ log/
  colcon build --symlink-install
  ```
- Use `--event-handlers console_cohesion+` with `colcon` for cleaner logs.
- Keep `.gitignore` to exclude `build/`, `install/`, and `log/`.

---

## 🐳 Optional: Dev Container (VS Code)

Place this file at `.devcontainer/devcontainer.json`:

```json
{
  "name": "ros2-humble-dev",
  "image": "ghcr.io/lucasw/ros2:humble-desktop",
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
  "runArgs": ["--net=host", "--ipc=host"],
  "postCreateCommand": "bash -lc 'sudo apt update && sudo apt install -y python3-colcon-common-extensions && echo Done'",
  "features": { "ghcr.io/devcontainers/features/common-utils:2": {} }
}
```

Open the folder in VS Code → **Reopen in Container** → build and run as usual.

---



## 🙌 Acknowledgments

Exercises and structure inspired by _Mastering ROS 2 for Robotics Programming_.
